# 任务007: 实现系统主题自动检测

**状态**: Todo
**优先级**: Medium
**预计时间**: 20m

**占用者**: -
**锁定时间**: -
**锁定超时**: 40 分钟（超时后自动释放）

## 任务描述

在 useAppearance hook 中添加系统主题检测功能，支持'跟随系统'模式

## 依赖任务

- [ ] 任务004 (状态: Todo) - 必须先完成

**说明**: 只有所有标记的依赖任务状态为 Done 后，此任务才能开始执行。

## 验收标准


- [ ] 系统主题变化时应用自动切换
- [ ] theme='system' 模式正常工作
- [ ] 事件监听器正确清理，无内存泄漏

## 实施步骤

1. 在 useAppearance 中添加 window.matchMedia 监听
2. 实现 prefers-color-scheme 变化时的自动切换
3. 添加事件监听器的清理逻辑
4. 测试系统主题切换时应用响应
5. 验证 theme='system' 模式工作正常

## 阻塞原因

**如果状态为 Blocked，在此记录阻塞原因**：
- 等待任务XXX完成
- 等待外部资源（API密钥、审批等）
- 技术问题（需要解决XXX）

## 并行提示

- 需等待 任务004 完成

## 备注

[执行过程中的备注]

## 完成记录

- 开始时间: _______
- 完成时间: _______
- 耗时: _______