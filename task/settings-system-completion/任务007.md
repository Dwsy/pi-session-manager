# 任务007: 应用会话设置（ViewMode, AutoRefresh）

**状态**: Todo
**优先级**: High
**预计时间**: 2.5h

**占用者**: -
**锁定时间**: -
**锁定超时**: 4 分钟（超时后自动释放）

## 任务描述

实现默认视图模式和自动刷新设置的应用

## 依赖任务

- [ ] 任务002 (状态: Todo) - 必须先完成

**说明**: 只有所有标记的依赖任务状态为 Done 后，此任务才能开始执行。

## 验收标准


- [ ] 启动时使用 saved 的 defaultViewMode
- [ ] 自动刷新开关控制会话列表刷新
- [ ] 刷新间隔可调整
- [ ] 定时器正确清理（无内存泄漏）
- [ ] 设置持久化到文件系统

## 实施步骤

1. 在 App.tsx 中使用 useSettings 获取 defaultViewMode
2. 应用 defaultViewMode 到初始 viewMode state
3. 创建自动刷新 Hook（useAutoRefresh）
4. 根据 autoRefresh 和 refreshInterval 启动/停止定时器
5. 定时器触发时调用 loadSessions
6. 组件卸载时清理定时器
7. 测试自动刷新功能
8. 测试不同刷新间隔

## 阻塞原因

**如果状态为 Blocked，在此记录阻塞原因**：
- 等待任务XXX完成
- 等待外部资源（API密钥、审批等）
- 技术问题（需要解决XXX）

## 并行提示

- 需等待 任务002 完成

## 备注

[执行过程中的备注]

## 完成记录

- 开始时间: _______
- 完成时间: _______
- 耗时: _______