# 任务004: 应用外观设置（Theme, FontSize, MessageSpacing）

**状态**: Todo
**优先级**: High
**预计时间**: 3h

**占用者**: -
**锁定时间**: -
**锁定超时**: 6 分钟（超时后自动释放）

## 任务描述

实现主题、字体大小、消息间距等外观设置的实际应用

## 依赖任务

- [ ] 任务002 (状态: Todo) - 必须先完成

**说明**: 只有所有标记的依赖任务状态为 Done 后，此任务才能开始执行。

## 验收标准


- [ ] 主题切换立即生效（无需刷新）
- [ ] 字体大小切换影响所有文本
- [ ] 消息间距切换影响会话列表
- [ ] 跟随系统主题正常工作
- [ ] 设置持久化到文件系统

## 实施步骤

1. 在 index.css 中定义 CSS 变量（--font-size-base, --spacing-base）
2. 创建 src/hooks/useAppearance.ts Hook
3. 根据 settings.appearance.theme 动态切换主题类名
4. 根据 settings.appearance.fontSize 应用字体大小
5. 根据 settings.appearance.messageSpacing 应用间距
6. 在 App.tsx 中应用主题类名到根元素
7. 测试主题切换（暗色/浅色/跟随系统）
8. 测试字体大小切换
9. 测试消息间距切换

## 阻塞原因

**如果状态为 Blocked，在此记录阻塞原因**：
- 等待任务XXX完成
- 等待外部资源（API密钥、审批等）
- 技术问题（需要解决XXX）

## 并行提示

- 需等待 任务002 完成

## 备注

[执行过程中的备注]

## 完成记录

- 开始时间: _______
- 完成时间: _______
- 耗时: _______